<div class="ctnCargando" style="display:none">
        <img src="https://upch-repo-comercial.s3.dualstack.us-east-1.amazonaws.com/04-06-25/tanoCargando.gif" alt="">
        <svg class="escudoBack" style="height: 40rem" xmlns="http://www.w3.org/2000/svg" version="1.1"
            viewBox="0 0 530.41 744.11">
            <g>
                <g id="Capa_1">
                    <g class="cls-3">
                        <path
                            d="M265.14,744.11s-151.42-73.37-212.35-171.76C-2.53,480.39.04,388.89.01,340.5c0,0,0-214.81,0-310.62C136.34-.98,265.14.6,265.14.6c0,0,128.8-1.58,265.12,29.28,0,95.81,0,310.62,0,310.62-.03,48.38,2.54,139.89-52.77,231.85-60.93,98.4-212.35,171.76-212.35,171.76Z">
                        </path>
                    </g>
                    <path class="cls-2"
                        d="M265.2,744.11s-151.42-73.37-212.35-171.76C-2.47,480.39.11,388.89.08,340.5c0,0,0-214.81,0-310.62C136.41-.98,265.2.6,265.2.6c0,0,128.8-1.58,265.12,29.28,0,95.81,0,310.62,0,310.62-.03,48.38,2.54,139.89-52.77,231.85-60.93,98.4-212.35,171.76-212.35,171.76Z">
                    </path>
                </g>
            </g>
        </svg>
    </div>
    <div id="popup" style="display: none">
        <div class="ctnPopup">
            <div class="ctnCerrar">
                <div id="cerrarPop" class="cerrarPop">X</div>
            </div>
            <h3> CONDICIONES PARA EL TRATAMIENTO DE DATOS PERSONALES DE INTERESADOS</h3>
            <p>De acuerdo con la Ley N° 29733 - Ley de Protección de Datos Personales, su Reglamento y modificaciones,
                otorgo mi consentimiento libre, previo, inequívoco, expreso e informado a la Universidad Peruana
                Cayetano Heredia (en adelante, UPCH), con RUC N° 20110768151, para que mis datos personales queden
                incorporados en el Banco de Datos Personales denominado “Interesados”, con la finalidad de administrar y
                gestionar los datos personales de los interesados en todos los servicios ofrecidos por la UPCH y
                resolver sus consultas, así como para darle los usos previstos de publicidad y prospección comercial,
                fines estadísticos e históricos, análisis de perfiles, seguridad y prevención de riesgos, seguridad y
                control de acceso a la UPCH.</p>
            <p>Si no doy mi consentimiento, la UPCH no podrá tratar mis datos personales, lo que impedirá atender mi
                solicitud o cumplir con las finalidades indicadas.</p>
            <p>La UPCH realizará la transferencia nacional de mis datos personales a organizaciones o personas
                directamente relacionadas y otras entidades públicas. Además, llevará a cabo la transferencia
                internacional de dichos datos para su almacenamiento a través de Microsoft Corporation, ubicada en One
                Microsoft Way, Redmond, WA 98052 y Google LLC, ubicada en 1600 Amphitheatre Parkway, Mountain View, CA
                94043, ambos con sede en los Estados Unidos. Para gestionar la comunicación, también se realizará
                transferencia de datos a Meta Platforms Inc., ubicada en 1601 Willow Road, Menlo Park, CA 94025; Amazon
                Web Services, ubicada en 1800 S Bell St. Arlington, VA 22202, ambos con sede en los Estados Unidos y a
                TikTok, ubicada en No. 48, Zhichun Road, Haidian, Beijing City, 100098, Pekín, China.</p>
            <p>Acepto que mis datos personales sean tratados por el tiempo necesario, con el propósito de cumplir las
                finalidades previamente indicadas.</p>
            <p>He sido informado que puedo ejercer mi derecho de información, acceso, rectificación, cancelación,
                oposición y otros derechos que me asisten como titular de los datos personales o revocar mi
                consentimiento. Para ejercer dichos derechos, puedo dirigirme al Área de Protección de Datos Personales
                de la Dirección de Tecnología de la Información, ubicada en Av. Honorio Delgado N° 430, Urb. Ingeniería,
                San Martín de Porres, Lima, o acceder a la página web:
                www.cayetano.edu.pe/proteccion-de-datos-personales y completar la "Solicitud de Derechos del Titular de
                Datos Personales".</p>
            <p> La UPCH garantiza la estricta confidencialidad de mis datos personales y los tratará conforme a lo
                establecido en su Política de Privacidad y Protección de Datos Personales. </p>
        </div>
    </div>
    <div class="ctnBloque1">
        <div class="bloque1">
            <div class="banner">
                <div class="bannerSuperior">
                    <header>
                        <img style="height: 3rem;" class="logo"
                            src="https://upch-repo-comercial.s3.dualstack.us-east-1.amazonaws.com/preCayetano/logoBlanco.webp"
                            alt="logoCayetano">
                    </header>
                    <div class="title">
                        <p>Simulacro gratuito</p>
                        <h1>EXAMEN DE ADMISIÓN VIRTUAL</h1>
                        <!--<p><span class="flecha-right"></span>Huancayo</p>-->
                    </div>
                </div>
                <div class="bannerInferior">
                    <!--<span style="font-weight: 500;font-size: 2.8rem;line-height: 0.6;letter-spacing: 2px;width:fit-content">···</span>-->
                    <div class="ctnfechaExamen">
                        <p class="txt">Cierre de inscripciones:</p>
                        <!--<p class="fecha">Hasta el</p>-->
                        <p class="fecha">miércoles 4 de marzo</p>
                        <img class="calendario" src="https://upch-repo-comercial.s3.dualstack.us-east-1.amazonaws.com/preCayetano/calendario.webp" alt="calendario">
                    </div>
                </div>
                <img class="imagenBack"
                    src="https://upch-repo-comercial.s3.dualstack.us-east-1.amazonaws.com/preCayetano/bannerPrecayetano.webp"
                    alt="banner">
            </div>
            <div class="cintaMobible">
                <div class="scrolling-content">
                <div class="textoContent">
                    <span>Simulacro virtual de <b>admisión</b></span>
                </div>
                <div class="textoContent">
                    <span>|</span>
                    <span>Simulacro virtual de <b>admisión</b></span>
                </div>
                <div class="textoContent">
                    <span>|</span>
                    <span>Simulacro virtual de <b>admisión</b></span>
                </div>
                <div class="textoContent">
                    <span>|</span>
                    <span>Simulacro virtual de <b>admisión</b></span>
                </div>
                <div class="textoContent">
                    <span>|</span>
                    <span>Simulacro virtual de <b>admisión</b></span>
                </div>
                <div class="textoContent">
                    <span>|</span>
                    <span>Simulacro virtual de <b>admisión</b></span>
                </div>
                <div class="textoContent">
                    <span>|</span>
                    <span>Simulacro virtual de <b>admisión</b></span>
                </div>
                <div class="textoContent">
                    <span>|</span>
                    <span>Simulacro virtual de <b>admisión</b></span>
                </div>
                <div class="textoContent">
                    <span>|</span>
                    <span>Simulacro virtual de <b>admisión</b></span>
                </div>
                <div class="textoContent">
                    <span>|</span>
                    <span>Simulacro virtual de <b>admisión</b></span>
                </div>
                <div class="textoContent">
                    <span>|</span>
                    <span>Simulacro virtual de <b>admisión</b></span>
                </div>
                <div class="textoContent">
                    <span>|</span>
                    <span>Simulacro virtual de <b>admisión</b></span>
                </div>
                <div class="textoContent">
                    <span>|</span>
                    <span>Simulacro virtual de <b>admisión</b></span>
                </div>
                <div class="textoContent">
                    <span>|</span>
                    <span>Simulacro virtual de <b>admisión</b></span>
                </div>
                <div class="textoContent">
                    <span>|</span>
                    <span>Simulacro virtual de <b>admisión</b></span>
                </div>
                <div class="textoContent">
                    <span>|</span>
                    <span>Simulacro virtual de <b>admisión</b></span>
                </div>
                <div class="textoContent">
                    <span>|</span>
                    <span>Simulacro virtual de <b>admisión</b></span>
                </div>
                <div class="textoContent">
                    <span>|</span>
                    <span>Simulacro virtual de <b>admisión</b></span>
                </div>
                <div class="textoContent">
                    <span>|</span>
                    <span>Simulacro virtual de <b>admisión</b></span>
                </div>
            </div>
        </div>
            <div class="backFormulario" id="formularioGeneral">
                <!--<div class="ctnFormulario">-->
                <!--    <p class="title"><b>¡Gracias por tu interés!</b>-->
                <!--    <br>Las inscripciones cerraron pero puedes solicitar información sobre la Pre Cayetano <a href="https://lp.cayetano.edu.pe/pre-cayetano/?utm_campaign=pre-cayetano-aon&utm_medium=organic&utm_source=landing&utm_content=redirect&utm_term=boton-simulacro-cepu&utm_id=digital" ><b style="text-decoration:underline; color primary !important;">aquí.</b></a></p>-->
                <!--</div>-->
                <div class="ctnFormulario">
                    <p class="title"><b>Déjanos tus datos</b> y nos contactaremos contigo</p>
                    <!-- <p class="title"><b>¡Lo sentimos!</b> Este registro ya cerró pero aún tienes una oportunidad.</p> -->
                    <form class="bloque1Container__form" id="my-form-pregrado">
                        <!--<input type="text" style="display:none;" name="xnQsjsdp" value="dca2765a5d03016cc1ad249409ff360c153a5fb0aaecfb26c1b12a317d835ec6" />-->
                        <!--<input type="hidden" name="zc_gad" id="zc_gad" value="" />-->
                        <!--<input type="text" style="display:none;" name="xmIwtLD" value="3b29c2ff618317f97dd6fe14c66f4b58b836008d814bab6189b926723e3d6c43e37730ae448c9ec137dd562bea4e913d" />-->
                        <!--<input type="text" style="display:none;" name="actionType" value="TGVhZHM=" />-->
                        <!--<input type="text" style="display:none;" name="returnURL" id="returnURL" value="">-->
                        <style>
                            .oculto {
                                display: none;
                            }
                        </style>
                        <div class="double__form">
                            <div class="input-field">
                                <input class="requerido" id="first-name" type="text" name="first-name" maxlength="40"
                                    required autocomplete="off" placeholder=" " />
                                <label>Primer Nombre*</label>
                            </div>
                            <div class="input-field">
                                <input class="requerido" id="first-last-name" type="text" name="first-last-name"
                                    maxlength="40" required autocomplete="off" placeholder=" " />
                                <label>Apellido Paterno*</label>
                            </div>
                        </div>

                        <div class="double__form">
                            <div class="input-field">
                                <input class="requerido" id="phone" type="text" name="phone" maxlength="9"
                                    pattern="9[0-9]{8}" required autocomplete="off" placeholder=" " />
                                <label>Celular*</label>
                            </div>
                            <div class="input-field">
                                <input class="requerido" id="number-document" type="text" name="number-document" placeholder=" "
                                    maxlength="20" required autocomplete="off" />
                                <label>N.° de DNI*</label>
                            </div>
                        </div>

                        <div class="input-field">
                            <input class="requerido" id="email" type="email" name="email" maxlength="100" required
                                autocomplete="off" placeholder=" " />
                            <label>Correo*</label>
                        </div>

                        <div class="input-field">
                            <select class="requerido" id="degree-study" name="degree-study" required>
                                <option value="" disabled selected></option>
                                <option value="994950000">3ro. de secundaria</option>
                                <option value="994950001">4to. de secundaria</option>
                                <option value="994950002">5to. de secundaria</option>
                                <option value="994950003">Egresado</option>
                            </select>
                            <label>¿En qué año estás del colegio?</label>
                        </div>
                        <!--<div class="input-field">-->
                        <!--    <select class="requerido" id="mod_estudio" name="type-document" required>-->
                        <!--        <option></option>-->
                        <!--        <option value="994950000">Presencial</option>-->
                        <!--        <option value="994950002">Virtual</option>-->
                        <!--    </select>-->
                        <!--    <label>Modalidad</label>-->
                        <!--</div>-->
                        <!--</div>-->
                        
                        <div class="input-field">
                            <select class="requerido" id="career" name="career" required>
                                <option value="" disabled="" selected=""></option>
                                <option value="cf2b56b1-9acb-f011-8543-002248df972e" class="virtual">Administración en Salud</option>
                                <option value="d52b56b1-9acb-f011-8543-002248df972e" class="virtual">Biología</option>
                                <option value="e12b56b1-9acb-f011-8543-002248df972e" class="virtual">Educación</option>
                                <option value="ed2b56b1-9acb-f011-8543-002248df972e" class="virtual">Enfermería</option>
                                <option value="f32b56b1-9acb-f011-8543-002248df972e" class="virtual">Estomatología</option>
                                <option value="f92b56b1-9acb-f011-8543-002248df972e" class="virtual">Farmacia y Bioquimica</option>
                                <option value="002c56b1-9acb-f011-8543-002248df972e" class="virtual">Ingeniería Ambiental</option>
                                <option value="062c56b1-9acb-f011-8543-002248df972e" class="virtual">Ingeniería Industrial</option>
                                <option value="0c2c56b1-9acb-f011-8543-002248df972e" class="virtual">Ingeniería Informática</option>
                                <option value="182c56b1-9acb-f011-8543-002248df972e" class="virtual">Medicina</option>
                                <option value="1e2c56b1-9acb-f011-8543-002248df972e" class="virtual">Medicina Veterinaria y Zootecnia</option>
                                <option value="242c56b1-9acb-f011-8543-002248df972e" class="virtual">Nutrición</option>
                                <option value="2a2c56b1-9acb-f011-8543-002248df972e" class="virtual">Psicología</option>
                                <option value="122c56b1-9acb-f011-8543-002248df972e" class="virtual">Laboratorio Clínico</option>
                                <option value="302c56b1-9acb-f011-8543-002248df972e" class="virtual">Radiología</option>
                                <option value="362c56b1-9acb-f011-8543-002248df972e" class="virtual">Terapia de Lenguaje</option>
                                <option value="3c2c56b1-9acb-f011-8543-002248df972e" class="virtual">Terapia Física y Rehabilitación</option>
                                <option value="422c56b1-9acb-f011-8543-002248df972e" class="virtual">Terapia Ocupacional</option>
                                <option value="c92b56b1-9acb-f011-8543-002248df972e" class="virtual">Administración</option>

                            </select>
                            <label>- Seleccionar carrera -</label>
                        </div>
                        <div class="input-field"> 
                            <select class="requerido" id="departamento" name="departamento" required="">
                                <option value="" disabled="" selected=""></option>
                                <option value="369cee48-dee4-ef11-be1f-002248df35a5">Amazonas</option>
                                <option value="26e2e238-3bee-ef11-be21-002248d2d786">Ancash</option>
                                <option value="28e2e238-3bee-ef11-be21-002248d2d786">Apurimac</option>
                                <option value="2ae2e238-3bee-ef11-be21-002248d2d786">Arequipa</option>
                                <option value="2ce2e238-3bee-ef11-be21-002248d2d786">Ayacucho</option>
                                <option value="2ee2e238-3bee-ef11-be21-002248d2d786">Cajamarca</option>
                                <option value="30e2e238-3bee-ef11-be21-002248d2d786">Callao</option>
                                <option value="32e2e238-3bee-ef11-be21-002248d2d786">Cuzco</option>
                                <option value="34e2e238-3bee-ef11-be21-002248d2d786">Huancavelica</option>
                                <option value="36e2e238-3bee-ef11-be21-002248d2d786">Huanuco</option>
                                <option value="38e2e238-3bee-ef11-be21-002248d2d786">Ica</option>
                                <option value="3ae2e238-3bee-ef11-be21-002248d2d786">Junin (Huancayo)</option>
                                <option value="3ce2e238-3bee-ef11-be21-002248d2d786">La Libertad</option>
                                <option value="3ee2e238-3bee-ef11-be21-002248d2d786">Lambayeque</option>
                                <option value="bfb4ca32-32e3-ef11-be20-000d3a892090">Lima</option>
                                <option value="40e2e238-3bee-ef11-be21-002248d2d786">Loreto</option>
                                <option value="42e2e238-3bee-ef11-be21-002248d2d786">Madre de Dios</option>
                                <option value="44e2e238-3bee-ef11-be21-002248d2d786">Moquegua</option>
                                <option value="46e2e238-3bee-ef11-be21-002248d2d786">Pasco</option>
                                <option value="48e2e238-3bee-ef11-be21-002248d2d786">Piura</option>
                                <option value="4ae2e238-3bee-ef11-be21-002248d2d786">Puno</option>
                                <option value="4ce2e238-3bee-ef11-be21-002248d2d786">San Martin</option>
                                <option value="4ee2e238-3bee-ef11-be21-002248d2d786">Tacna</option>
                                <option value="50e2e238-3bee-ef11-be21-002248d2d786">Tumbes</option>
                                <option value="52e2e238-3bee-ef11-be21-002248d2d786">Ucayali</option>
                            </select> 
                            <label>Departamento</label> 
                        </div>
                        <div class="oculto">
                            <input class="UTM" id="utm_source" name="LEADCF183" value="">
                            <input class="UTM" id="utm_medium" name="LEADCF189" value="">
                            <input class="UTM" id="utm_campaign" name="LEADCF24" value="">
                            <input class="UTM" id="utm_id" name="LEADCF203" value="">
                            <input class="UTM" id="utm_term" name="LEADCF184" value="">
                            <input class="UTM" id="utm_content" name="LEADCF182" value="">
                            <input id="reference" name="LEADCF168" value="">
                            <input name="LEADCF185" value="PREGRADO" />
                            <input name="Lead Status" value="Sin gestión" />
                            <input name="LEADCF1" value="Automáticos" />
                            <input name="LEADCF198" value="Postulante" />
                            <input name="Lead Source" value="Landing Page" />
                            <input id="LEADCF22" name="LEADCF22" value="" />
                            <input id="LEADCF194" name="LEADCF194" value="" />
                            <!--<input id="LEADCF220" name="LEADCF302" value="ADMINISTRACION EN SALUD">-->
                            <input id="LEADCF10" name="LEADCF10" value="">
                            <input id="LEADCF7" name="LEADCF7" value="Pregrado OPG">
                            <input id="LEADCF34" name="LEADCF34" value="Si asecto">
                            <input id="LEADCF32" name="LEADCF32" value="">
                        </div>
                        <div class="ctnCheckbox">
                            <input type="checkbox" id="privacyTool3503766000237491098" name="privacyTool" required
                                onclick="disableSubmit()" />
                            <p>Declaro haber leído y acepto la <a href="https://cayetano.edu.pe/politica-privacidad/"
                                    target="_blank">Política de Privacidad</a>, y autorizo a la Cayetano, conforme a lo
                                establecido <span id="pop">aquí</span>, el tratamiento de mis datos personales.</p>
                        </div>
                        <div class="ctnCaptcha">
                            <div class="g-recaptcha" id="recap3503766000237491098"
                                data-sitekey="6LdqkDoiAAAAALdLtgIzFUQelkS9jGZU4W7gjLHG" data-theme="light"
                                data-callback="rccallback3503766000237491098" captcha-verified="false"></div>
                            <div id="recapErr3503766000237491098" style="font-size:10px;color:red;display:none">Error en
                                validación de Captcha. Si no es un robot, inténtelo de nuevo.</div>
                        </div>
                        <div class="bloque1FormButton">
                            <button class="button__change" type="submit">
                                ¡Inscríbete aquí!
                            </button>
                        </div>
                    </form>

                    <script>
                        let periodo = document.getElementById('LEADCF10');

                        let button = document.querySelector('.button__change')
                        document.querySelector('.bloque1Container__form').addEventListener("submit", (ev) => {
                            document.querySelector('.ctnCargando').style.display = "flex";
                            button.disabled = true;
                        });

                        let ref = document.getElementById('reference');
                        let url = window.location.href;
                        ref.value = url;

                        function getUTMParams() {
                            const params = {};
                            window.location.search.substr(1).split("&").forEach(pair => {
                                const [key, val] = pair.split("=");
                                params[key] = decodeURIComponent(val || "");
                            });
                            return params;
                        }

                        const utm = getUTMParams();
                        document.getElementById('utm_source').value = utm["utm_source"] || "landing";
                        document.getElementById('utm_medium').value = utm["utm_medium"] || "organic";
                        document.getElementById('utm_id').value = utm["utm_id"] || "digital";
                        document.getElementById('utm_term').value = utm["utm_term"] || "huancayo";
                        document.getElementById('utm_content').value = utm["utm_content"] || "formulario";
                        document.getElementById('utm_campaign').value = utm["utm_campaign"] || "pre-simulacro-2026";


                        document.getElementById('my-form-pregrado').addEventListener("submit", function (ev) {
                            ev.preventDefault();
                            let buttonBlock = document.querySelector('.button__change');
                            buttonBlock.disabled = true;
                            
                            const urlParams = new URLSearchParams(window.location.search);
                            const check_url = urlParams.get('utm_id');
                            let Fuente = '';
                                        
                            switch( check_url ) {
                                case 'atl':
                                    Fuente = 'e17a50c5-5ef5-ef11-be21-000d3ac1f096';
                                    break;
                                case 'heredada':
                                    Fuente = 'bf88f09c-3f31-f011-8c4d-002248370ba7';
                                    break;
                                case 'colegios':
                                    Fuente = 'd57a50c5-5ef5-ef11-be21-000d3ac1f096';
                                    break;
                                case 'evento':
                                    Fuente = 'dd7a50c5-5ef5-ef11-be21-000d3ac1f096';
                                    break;
                                case 'empresas':
                                    Fuente = 'd97a50c5-5ef5-ef11-be21-000d3ac1f096';
                                    break;
                                case 'inbound':
                                    Fuente = 'd17a50c5-5ef5-ef11-be21-000d3ac1f096';
                                    break;
                                case 'institutos':
                                    Fuente = 'd77a50c5-5ef5-ef11-be21-000d3ac1f096';
                                    break;
                                case 'presencial':
                                    Fuente = 'd37a50c5-5ef5-ef11-be21-000d3ac1f096';
                                    break;
                                case 'referidos':
                                    Fuente = 'db7a50c5-5ef5-ef11-be21-000d3ac1f096';
                                    break;
                                default:
                                    Fuente = 'cf7a50c5-5ef5-ef11-be21-000d3ac1f096'; //digital
                                    break;
                            }
                            
                            // === DATOS DEL FORMULARIO ===
                            const PrimerNombre = document.getElementById("first-name").value;
                            const ApellidoPaterno = document.getElementById("first-last-name").value;
                            // const ApellidoMaterno = document.getElementById("second-last-name").value;
                            const TipoDocumento = 994950000;
                            const NroDocumento = document.getElementById("number-document").value;
                            const Correo = document.getElementById("email").value;
                            const CodigoPais = "+51";
                            const Programa = document.getElementById("career").value; // GUID o valor del select
                            // const ProgramaTexto = (function () { // nombre legible del programa (si hay select)
                            //     const el = document.getElementById("career");
                            //     if (el && el.options && el.selectedIndex >= 0) return el.options[el.selectedIndex].text;
                            //     return Programa;
                            // })();
                            const UtmCampaign = document.getElementById("utm_campaign").value;
                            const UtmTerm = document.getElementById("utm_term").value;
                            const UtmSource = document.getElementById("utm_source").value;
                            const UtmMedium = document.getElementById("utm_medium").value;
                            const UtmId = document.getElementById("utm_id").value;
                            const UtmContent = document.getElementById("utm_content").value;
                            const Celular = document.getElementById("phone").value;
                            const Origen = 8;
                            const ConsentimientoPoliticaPrivacidad = true;
                            const AutorizoTratamientoDatos = true;
                            const Periodo = "a53d1c25-cd2f-f011-8c4e-000d3ac087da";
                            // const Fuente = "cf7a50c5-5ef5-ef11-be21-000d3ac1f096";
                            // const UrlReferencia = document.getElementById("reference").value;
                            let urlRef = document.getElementById("reference").value
                            const UrlReferencia = urlRef.substring(0, 349);
                            let CampanaOrigen ="6f04836b-9fcb-f011-8543-002248df972e";
                            // const SubModalidadIngreso = document.getElementById("beca").value;
                            // const modularSelect = document.getElementById("modular");
                            // const Distrito = document.getElementById("modular").value;
                            const GradoEstudio = Number(document.getElementById("degree-study").value);
                            
                            // const ModalidadEstudio = Number(document.getElementById("mod_estudio").value);
                            
                            // const Departamento = modularSelect.options[modularSelect.selectedIndex].text;
                            const Departamento = document.getElementById("departamento").value;
                            
                            // const Propietario = "735e5a81-d5ce-ef11-a72e-6045bd38a101";

                            const datos = {
                                PrimerNombre,
                                ApellidoPaterno,
                                // ApellidoMaterno,
                                TipoDocumento,
                                NroDocumento,
                                Correo,
                                GradoEstudio,
                                Programa,
                                UtmCampaign,
                                UtmTerm,
                                UtmSource,
                                UtmMedium,
                                UtmId,
                                UtmContent,
                                Celular,
                                Origen,
                                CodigoPais,
                                ConsentimientoPoliticaPrivacidad,
                                AutorizoTratamientoDatos,
                                CampanaOrigen,
                                Periodo,
                                Fuente,
                                UrlReferencia,
                                Departamento,
                                // ModalidadEstudio,
                                // Propietario
                                // Distrito
                            };

                            // === PAYLOAD PARA EMBLUE (según tu cURL actual) ===
                            // eventName: Pre_beca_18 y atributos: primer nombre, apellido paterno, apellido materno, DNI, email, programa, grado de estudios, provincia, celular
                            
                            // let ProgramEmblue = '';
                            // switch(Programa) {
                            //     case "2a6372f8-161f-f011-998b-002248383b9f":
                            //         ProgramEmblue = 'Administración';
                            //         break;
                            //     case "2c6372f8-161f-f011-998b-002248383b9f":
                            //         ProgramEmblue = 'Administración en Salud';
                            //         break;
                            //     case "006372f8-161f-f011-998b-002248383b9f":
                            //         ProgramEmblue = 'Biología';
                            //         break;
                            //     case "146372f8-161f-f011-998b-002248383b9f":
                            //         ProgramEmblue = 'Educación';
                            //         break;
                            //     case "166372f8-161f-f011-998b-002248383b9f":
                            //         ProgramEmblue = 'Enfermería';
                            //         break;
                            //     case "186372f8-161f-f011-998b-002248383b9f":
                            //         ProgramEmblue = 'Estomatología';
                            //         break;
                            //     case "026372f8-161f-f011-998b-002248383b9f":
                            //         ProgramEmblue = 'Farmacia y Bioquimica';
                            //         break;
                            //     case "5edd571c-fa3f-f011-877a-6045bd3c8409":
                            //         ProgramEmblue = 'Gestión de Desarrollo Global';
                            //         break;
                            //     case "066372f8-161f-f011-998b-002248383b9f":
                            //         ProgramEmblue = 'Ingeniería Ambiental';
                            //         break;
                            //     case "086372f8-161f-f011-998b-002248383b9f":
                            //         ProgramEmblue = 'Ingeniería Biomédica';
                            //         break;
                            //     case "0a6372f8-161f-f011-998b-002248383b9f":
                            //         ProgramEmblue = 'Ingeniería Industrial';
                            //         break;
                            //     case "0e6372f8-161f-f011-998b-002248383b9f":
                            //         ProgramEmblue = 'Ingeniería Informática';
                            //         break;
                            //     case "1c6372f8-161f-f011-998b-002248383b9f":
                            //         ProgramEmblue = 'Laboratorio Clínico y Anatomía Patológica';
                            //         break;
                            //     case "1a6372f8-161f-f011-998b-002248383b9f":
                            //         ProgramEmblue = 'Medicina';
                            //         break;
                            //     case "2e6372f8-161f-f011-998b-002248383b9f":
                            //         ProgramEmblue = 'Medicina Veterinaria y Zootecnia';
                            //         break;
                            //     case "046372f8-161f-f011-998b-002248383b9f":
                            //         ProgramEmblue = 'Nutrición';
                            //         break;
                            //     case "266372f8-161f-f011-998b-002248383b9f":
                            //         ProgramEmblue = 'Psicología';
                            //         break;
                            //     case "1e6372f8-161f-f011-998b-002248383b9f":
                            //         ProgramEmblue = 'Radiología';
                            //         break;
                            //     case "226372f8-161f-f011-998b-002248383b9f":
                            //         ProgramEmblue = 'Terapia Física y Rehabilitación';
                            //         break;
                            //     case "246372f8-161f-f011-998b-002248383b9f":
                            //         ProgramEmblue = 'Terapia Ocupacional';
                            //         break;
                            //     case "206372f8-161f-f011-998b-002248383b9f":
                            //         ProgramEmblue = 'Terapia de Lenguaje';
                            //         break;
                            //     default:
                            //         break;
                            // }
                            
                            let GradoEstudioTexto = '';
                            switch(GradoEstudio) {
                                case 994950000:
                                    GradoEstudioTexto = '3ro. de secundaria';
                                    break;
                                case 994950001:
                                    GradoEstudioTexto = '4to. de secundaria';
                                    break;
                                case 994950002:
                                    GradoEstudioTexto = '5to. de secundaria';
                                    break;
                                case 994950003:
                                    GradoEstudioTexto = 'Egresado de Colegio';
                                    break;
                                default:
                                    break;
                            }
                            
                            // let modEm = '';
                            // switch(ModalidadEstudio) {
                            //     case 994950000:
                            //         modEm = 'Presencial';
                            //         break;
                            //     case 994950002:
                            //         modEm = 'Virtual';
                            //         break; 
                            //     default:
                            //         break;
                            // }
                            
                            const payloadEmblue = {
                                "email": Correo,
                                "eventName": "MAIL_CONFIRMACION_PREPARATE22",
                                "attributes": {
                                    "nombre": PrimerNombre,
                                    "apellido": ApellidoPaterno,
                                    "celular": `51${Celular}`,
                                    "correo": Correo,
                                    "grado": GradoEstudioTexto,
                                    // "modalidad": modEm,
                                    "event_items": [{}]
                                }
                            };
                            
                            console.log(datos);
                            console.log(JSON.stringify(datos));
                            console.log(payloadEmblue);

                            // === ENVÍA PRIMERO AL CRM, LUEGO A EMBLUE Y FINALMENTE REDIRECCIONA ===
                            // https://cayetano.edu.pe/s/cxcrm/cxcrm_com_serv.php
                            // https://cayetano.edu.pe/s/cxcrm/cxcrm_pregrado.php
                            
                            fetch('../cxcrm.php', {
                                method: "POST",
                                headers: {
                                    'Content-Type': "application/json",
                                    'Accept': "application/json"
                                },
                                body: JSON.stringify(datos)
                            })
                            .then(response => {
                                // Manejo de respuesta no-OK del CRM (ej. error 500)
                                if (!response.ok) {
                                    // Convierte esto en un error para que el flujo vaya al .catch() principal
                                    throw new Error('CRM HTTP Error: ' + response.status);
                                }
                                return response.text();
                            })
                            .then(text => {
                                let crmSuccess = false;
                                try {
                                    const data = JSON.parse(text);
                                    console.log(data);
                                    if (data.crmResponse.IsSuccess === true) {
                                        crmSuccess = true;
                                    }
                                } catch (error) {
                                    console.error("Error parseando respuesta CRM:", error);
                                }
                        
                                // ENVÍA A EMBLUE DESPUÉS DEL CRM
                                return fetch('../cxemblue.php', {
                                    method: 'POST',
                                    headers: { 'Content-Type': 'application/json' },
                                    body: JSON.stringify(payloadEmblue)
                                })
                                .then(resp => resp.json())
                                .then(emailResp => {
                                    console.log("Se envió el Correo a Emblue:", emailResp);
                                    if (crmSuccess) {
                                        // REDIRECCIONAR SOLO SI CRM FUE EXITOSO
                                        window.location.href = "https://lp.cayetano.edu.pe/pre-cayetano-simulacro-huancayo-gracias/";
                                        console.log(datos);
                            console.log(JSON.stringify(datos));
                            console.log(payloadEmblue);
                                    } else {
                                        // CRM falló, pero Emblue se envió
                                        alert("Hubo un problema con el CRM, pero tu registro de correo fue recibido. Te contactaremos pronto.");
                                    }
                                })
                                .catch(error => {
                                    console.error("Error al enviar a Emblue:", error);
                                    // Si Emblue falla, pero CRM tuvo éxito, igual redirigimos (porque el lead ya está en CRM)
                                    if (crmSuccess) {
                                        window.location.href = "https://lp.cayetano.edu.pe/pre-cayetano-simulacro-huancayo-gracias/";
                                        console.log(datos);
                            console.log(JSON.stringify(datos));
                            console.log(payloadEmblue);
                                    } else {
                                        // Ambos fallaron (o CRM no fue exitoso y Emblue falló)
                                        alert("Hubo un error inesperado. Intenta de nuevo.");
                                    }
                                });
                            })
                            .catch(error => {
                                // CUALQUIER error en la cadena de promesas cae aquí (CRM error de red/HTTP/parseo, etc.)
                                console.error("Error general en el proceso (CRM u otro):", error);
                                
                                // OPCIONAL: Reintentar Emblue aquí si el CRM falló *antes* del intento principal de Emblue
                                // Esto es lo que estabas haciendo. Es redundante si el error fue en la etapa de Emblue.
                                // Lo mantengo por si quieres asegurar el envío del correo incluso si el CRM no está disponible.
                                fetch('../cxemblue.php', {
                                    method: 'POST',
                                    headers: { 'Content-Type': 'application/json' },
                                    body: JSON.stringify(payloadEmblue)
                                }).catch(() => { });
                        
                                alert("Hubo un error al enviar tu solicitud. Intenta de nuevo.");
                            })
                            .finally(() => {
                                // IMPORTANTE: RE-HABILITA EL BOTÓN SIEMPRE
                                button.disabled = false;
                            });
                        });
                    </script>
                </div>
            </div>
        </div>
        <div class="ctnImgBanner">
            <img style="display: none;" class="imagenBack desktop" src="https://upch-repo-comercial.s3.dualstack.us-east-1.amazonaws.com/preCayetano/bannerSimulacroPre.webp" alt="Banner">
        </div>
    </div>
    <div class="ctnBloque B2">
        <div class="bloque">
            <h2><span class="icono estrella"></span>¡Mide tus conocimientos con el <b>simulacro gratuito del Examen de Admisión Cayetano!</b> <span class="icono caraLentes"></span></h2>
        </div>
    </div>
    <div class="ctnBloque B3">
        <div class="bloque">
            <h2><b>¿Qué debes saber sobre el simulacro? </b></h2>
            <p class="subTitle">El examen será presencial y está pensado para estudiantes de <b>5. ° de secundaria y egresados</b>. Te servirá para poner a prueba tus habilidades y conocer cómo es el examen de ingreso a la Universidad Peruana Cayetano Heredia.</p>
            <div class="ctnScrollX arrastre">
                <!-- la clase "full" es para que siempre muestre los puntos, colocarlo solo cuando los item sobrepasen en desktop -->
                <div class="itemScrollX">
                    <img src="https://upch-repo-comercial.s3.dualstack.us-east-1.amazonaws.com/preCayetano/calendario.webp" alt="calendario">
                    <div class="ctnTxt">
                        <p class="title">Día</p>
                        <p class="subTitle">Sábado <br>7 de marzo</p>
                        <!--<p class="subTitle">Sábado 7 de marzo <br>8 a. m. </p>-->
                    </div>
                </div>
                <div class="itemScrollX">
                    <img src="https://upch-repo-comercial.s3.dualstack.us-east-1.amazonaws.com/preCayetano/reloj.webp"
                        alt="mochila">
                    <div class="ctnTxt">
                        <p class="title">Duración</p>
                        <p class="subTitle">9:30 a. m. a 12:50 p. m. </p>
                    </div>
                </div>
                
                <div class="itemScrollX">
                    <img src="https://upch-repo-comercial.s3.dualstack.us-east-1.amazonaws.com/preCayetano/laptop.webp"
                        alt="mochila">
                    <div class="ctnTxt">
                        <p class="title">Modalidad</p>
                        <p class="subTitle">Virtual</p>
                    </div>
                </div>
                
                <div class="itemScrollX">
                    <img src="https://upch-repo-comercial.s3.dualstack.us-east-1.amazonaws.com/preCayetano/campana.webp"
                        alt="campana">
                    <div class="ctnTxt">
                        <p class="title">Costo</p>
                        <p class="subTitle">Gratuito</p>
                    </div>
                </div>
                <!--<div class="itemScrollX">-->
                <!--    <img src="https://upch-repo-comercial.s3.dualstack.us-east-1.amazonaws.com/preCayetano/ubicacion.webp"-->
                <!--        alt="ubicacion">-->
                <!--    <div class="ctnTxt">-->
                <!--        <p class="title">Lugar</p>-->
                        
                <!--        <p class="subTitle">Campus La Molina</p>-->
                <!--        <p class="txt">Calle José Antonio Encinas 310, La Molina </p>-->
                <!--    </div>-->
                <!--</div>-->
            </div>
            <!--<p>*Las vacantes son asignadas en orden de mérito.</p>-->
        </div>
        <img class="backPuntos" src="https://upch-repo-comercial.s3.dualstack.us-east-1.amazonaws.com/preCayetano/backPuntos.webp" alt="backPuntos">
    </div>
    <div class="ctnBloque B4 B7"style="display:none">
        <div class="bloque">
            <div class="contenedorTop">
                <h3>¿Qué más encontrarás en el</h3>
                <h2>Simulacro Cayetano?</h2>
            </div>
            <div class="ctnOfrece" style="max-width:60rem">
                <div class="item">
                    <img class="icono" src="https://upch-repo-comercial.s3.dualstack.us-east-1.amazonaws.com/preCayetano/foco.webp" alt="foco">
                    <p><b>Taller Vocacional para Padres:</b> Ven con tus papás o acompañantes y aprovechen la charla exclusiva que tendremos para ellos el mismo día del simulacro. </p>
                    <img class="suma" src="https://upch-repo-comercial.s3.dualstack.us-east-1.amazonaws.com/preCayetano/sumaFondo.webp" alt="sumaFondo">
                </div>
                <div class="item">
                    <img class="icono" src="https://upch-repo-comercial.s3.dualstack.us-east-1.amazonaws.com/preCayetano/mensaje.webp" alt="foco">
                    <p><b>Backstage Medicina para Padres:</b> Estudiantes de la carrera de Medicina compartirán con tus papás cómo es realmente estudiar en Cayetano: sus retos, aprendizajes y todo lo que viven en su día a día universitario.</p>
                    <img class="suma" src="https://upch-repo-comercial.s3.dualstack.us-east-1.amazonaws.com/preCayetano/sumaFondo.webp" alt="sumaFondo">
                </div>
            </div>
        </div>
    </div>
    
    <div class="ctnBloque B5">
        <div class="bloque">
            <h2>¿Por qué tomar nuestro <b class="title">simulacro de admisión?</b></h2>
            <!-- <p class="title"></p> -->
            <div class="ctnTanoItems arrastre">
                <div class="item">
                    <p class="title">Familiarízate con el <b>formato del Examen de Admisión de Cayetano.</b></p>
                    <!--<p class="txt"></p>-->
                    <img class="suma" src="https://upch-repo-comercial.s3.dualstack.us-east-1.amazonaws.com/preCayetano/sumaFondo.webp" alt="suma">
                </div>
                <div class="item">
                    <p class="title">Descubre tus <b>fortalezas y debilidades.</b></p>
                    <!--<p class="txt">Con la calidad que solo Cayetano puede ofrecer.</p>-->
                    <img class="medalla" src="https://upch-repo-comercial.s3.dualstack.us-east-1.amazonaws.com/preCayetano/medalla.webp" alt="medalla">
                </div>
                <div class="item">
                    <p class="title"><b>Controla tus tiempos</b> para cada sección de la evaluación. </p>
                    <!--<p class="txt">Evaluaciones diarias que lo harán brillar</p>-->
                    <img class="foco" src="https://upch-repo-comercial.s3.dualstack.us-east-1.amazonaws.com/preCayetano/reloj.webp" alt="foco">
                </div>
                <div class="item">
                    <p class="title"><b>Practica con la calidad</b> que solo Cayetano te puede ofrecer. </p>
                    <!--<p class="txt">Formación con profesionales de Cayetano que lo guiarán en cada paso.</p>-->
                    <img class="suma" src="https://upch-repo-comercial.s3.dualstack.us-east-1.amazonaws.com/preCayetano/sumaFondo.webp" alt="suma">
                </div>
                <img class="tanoGraduado" src="https://upch-repo-comercial.s3.dualstack.us-east-1.amazonaws.com/preCayetano/tanoCaminando.webp" alt="tano">
                <div class="btnCTA">
                    ¡Quiero inscribirme!
                </div>
            </div>
        </div>
    </div>
    <!--<div class="ctnBloque ctnPF">-->
    <!--    <div class="bloque pf">-->
    <!--        <h2>Preguntas frecuentes <span class="icono estrella"></span></h2>-->
    <!--        <div class="ctnDsp">-->
    <!--            <div class="itemDsp">-->
    <!--                <div class="question">-->
    <!--                    <p class="quest">¿Las clases se graban?</p>-->
    <!--                    <span class="suma2 signos">-->
    <!--                    </span>-->
    <!--                    <span class="resta signos">-->
    <!--                    </span>-->
    <!--                </div>-->
    <!--                <div class="rpta">-->
    <!--                    <p>Si, todas las sesiones son grabadas para que nuestros alumnos no pierdan la clase o puedan revisar la explicación del profesor(a).</p>-->
    <!--                </div>-->
    <!--                <hr>-->
                     
    <!--            </div>-->
    <!--            <div class="itemDsp">-->
    <!--                <div class="question">-->
    <!--                    <p class="quest">¿Qué carreras puedo estudiar si ingreso por la Pre Cayetano?</p>-->
    <!--                    <span class="suma2 signos">-->
    <!--                    </span>-->
    <!--                    <span class="resta signos">-->
    <!--                    </span>-->
    <!--                </div>-->
    <!--                <div class="rpta">-->
    <!--                    <p> La preparación aplica para todas las más de 20 carreras de Cayetano en Salud, Ciencias, Ingeniería, Educación y Gestión.</p>-->
    <!--                </div>-->
    <!--                <hr>-->
    <!--            </div>-->
    <!--            <div class="itemDsp">-->
    <!--                <div class="question">-->
    <!--                    <p class="quest">¿En qué consiste el ingreso directo por orden de mérito?</p>-->
    <!--                    <span class="suma2 signos">-->
    <!--                    </span>-->
    <!--                    <span class="resta signos">-->
    <!--                    </span>-->
    <!--                </div>-->
    <!--                <div class="rpta">-->
    <!--                    <p>Los mejores estudiantes de cada programa acceden a una vacante directa en la universidad, siempre que se ubiquen dentro del número de vacantes asignadas por carrera.</p>-->
    <!--                </div>-->
    <!--                <hr>-->
    <!--            </div>-->
    <!--            <div class="itemDsp">-->
    <!--                <div class="question">-->
    <!--                    <p class="quest">¿Puedo elegir a qué carrera postular desde la Pre Cayetano o eso se decide después?</p>-->
    <!--                    <span class="suma2 signos">-->
    <!--                    </span>-->
    <!--                    <span class="resta signos">-->
    <!--                    </span>-->
    <!--                </div>-->
    <!--                <div class="rpta">-->
    <!--                    <p> Sí, la elección de carrera se realiza desde la Pre Cayetano, al momento de inscribirte.</p>-->
    <!--                </div>-->
    <!--                <hr>-->
    <!--            </div>-->
                <!-- <div class="itemDsp">-->
    <!--                <div class="question">-->
    <!--                    <p class="quest">¿Qué pasa si no quedo dentro del orden de mérito?</p>-->
    <!--                    <span class="suma2 signos">-->
    <!--                    </span>-->
    <!--                    <span class="resta signos">-->
    <!--                    </span>-->
    <!--                </div>-->
    <!--                <div class="rpta">-->
    <!--                    <p> (Pronto lo averiguaremos).</p>-->
    <!--                </div>-->
    <!--                <hr>-->
    <!--            </div> -->
    <!--        </div>-->
    <!--    </div>-->
    <!--    <img class="backPuntos" src="https://upch-repo-comercial.s3.dualstack.us-east-1.amazonaws.com/preCayetano/backPuntos.webp" alt="backPuntos">-->
    <!--</div>-->
    <div class="btnCTA flotante">
        ¡Inscríbete aquí!
    </div>
    <footer>
        <div class="ctnFooter">
            <svg height="2.5rem" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 35 70">
                <g>
                  <g id="Capa_1">
                    <path style="fill: #a80433;" d="M28.92,63.89h-.01c-1.71,0-11.61-5.65-16.37-13.34-4.12-6.85-4.11-13.56-4.1-17.56V8.33c10.37-2.3,20.22-2.23,20.49-2.23v-2.96c-.28,0-11.15-.08-22.49,2.48l-.35.08v27.13c0,4.1-.02,11.73,4.53,19.29,5.25,8.48,16.14,14.72,18.31,14.72h0v-2.96Z"/>
                  </g>
                </g>
            </svg>
            Cayetano es más que Cayetano
        </div>
    </footer>
    <!-- JS PARA PREGUNTAS -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const items = document.querySelectorAll('.pf .itemDsp');

            items.forEach(item => {
                const question = item.querySelector('.question');
                const respuesta = item.querySelector('.rpta');
                const sumaIcon = item.querySelector('.suma2');
                const restaIcon = item.querySelector('.resta');

                question.addEventListener('click', () => {
                    const isOpen = respuesta.classList.contains('visible');

                    // Cerrar todos
                    document.querySelectorAll('.pf .rpta').forEach(r => {
                        r.classList.remove('visible');
                    });
                    document.querySelectorAll('.pf .suma2').forEach(s => s.style.display = 'inline');
                    document.querySelectorAll('.pf .resta').forEach(r => r.style.display = 'none');

                    if (!isOpen) {
                        // Abrir solo el actual
                        respuesta.classList.add('visible');
                        sumaIcon.style.display = 'none';
                        restaIcon.style.display = 'flex';
                    }
                });
            });
        });
    </script>
    <!--ARRASTRAR -->
    <script>
        document.querySelectorAll('.arrastre').forEach(slider => {
            let isDown = false;
            let startX;
            let scrollLeft;

            slider.addEventListener('mousedown', (e) => {
                isDown = true;
                slider.classList.add('active');
                startX = e.pageX - slider.offsetLeft;
                scrollLeft = slider.scrollLeft;
            });

            // mouseleave solo quita la clase, pero no libera el arrastre
            slider.addEventListener('mouseleave', () => {
                slider.classList.remove('active');
            });

            // Escuchar mouseup en todo el documento para garantizar que se detenga el scroll
            document.addEventListener('mouseup', () => {
                if (isDown) {
                    isDown = false;
                    slider.classList.remove('active');
                }
            });

            slider.addEventListener('mousemove', (e) => {
                if (!isDown) return;
                e.preventDefault();
                const x = e.pageX - slider.offsetLeft;
                const walk = (x - startX) * 2;
                slider.scrollLeft = scrollLeft - walk;
            });
        });
    </script>
    <!--SCRIPT PUNTOS-->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.ctnScrollX').forEach((ctnScrollX, index) => {
                const items = ctnScrollX.querySelectorAll('.itemScrollX');
                const containerId = `ctnScrollX-${index}`;
                ctnScrollX.setAttribute('data-id', containerId);

                const dotsContainer = document.createElement('div');
                dotsContainer.classList.add('dotsContainer');
                dotsContainer.setAttribute('data-for', containerId);
                ctnScrollX.after(dotsContainer);

                let totalItemWidth = 0;
                let visibleItems = 0;
                let dotCount = 0;
                let forceTwoPages = false;
                let dotsEnabled = false;

                const createDots = () => {
                    const forceAllSizes = ctnScrollX.classList.contains('full');

                    // Decidir si deben mostrarse puntos
                    if (!forceAllSizes && window.innerWidth > 1000) {
                        dotsContainer.innerHTML = '';
                        dotsContainer.style.display = 'none';
                        dotsEnabled = false;
                        return;
                    }

                    if (!items.length) return;
                    dotsContainer.innerHTML = '';
                    dotsEnabled = true;

                    ctnScrollX.style.scrollBehavior = 'auto';

                    const itemWidth = items[0].offsetWidth;
                    const gap = parseFloat(getComputedStyle(ctnScrollX).gap) || 0;

                    totalItemWidth = itemWidth + gap;
                    const containerWidth = ctnScrollX.offsetWidth;

                    if (containerWidth >= 1070) {
                        forceTwoPages = true;
                        dotCount = 2;
                    } else {
                        forceTwoPages = false;
                        visibleItems = Math.max(1, Math.floor(containerWidth / totalItemWidth));
                        dotCount = Math.max(1, Math.ceil(items.length / visibleItems));
                    }

                    // Ocultar el contenedor si solo hay un punto
                    if (dotCount <= 1) {
                        dotsContainer.style.display = 'none';
                    } else {
                        dotsContainer.style.display = '';
                    }

                    for (let i = 0; i < dotCount; i++) {
                        const dot = document.createElement('span');
                        dot.classList.add('dot');
                        if (i === 0) dot.classList.add('active');

                        dot.addEventListener('click', () => {
                            const scrollAmount = forceTwoPages
                                ? i * (ctnScrollX.scrollWidth - containerWidth)
                                : i * totalItemWidth * visibleItems;

                            ctnScrollX.scrollTo({
                                left: scrollAmount,
                                behavior: 'smooth'
                            });
                        });

                        dotsContainer.appendChild(dot);
                    }

                    updateDots();
                    ctnScrollX.style.scrollBehavior = '';
                };

                const updateDots = () => {
                    if (!dotsEnabled) return;

                    const scrollLeft = ctnScrollX.scrollLeft;
                    const containerWidth = ctnScrollX.offsetWidth;
                    const maxScroll = ctnScrollX.scrollWidth - containerWidth;

                    let activeIndex;
                    if (forceTwoPages) {
                        activeIndex = scrollLeft < maxScroll * 0.6 ? 0 : 1;
                    } else {
                        const maxIndex = dotCount - 1;
                        const rawIndex = scrollLeft / (totalItemWidth * visibleItems);

                        if (scrollLeft + containerWidth >= ctnScrollX.scrollWidth - 5) {
                            activeIndex = maxIndex;
                        } else {
                            activeIndex = Math.round(rawIndex);
                        }
                    }

                    dotsContainer.querySelectorAll('.dot').forEach((dot, i) => {
                        dot.classList.toggle('active', i === activeIndex);
                    });
                };

                ctnScrollX.addEventListener('scroll', () => {
                    requestAnimationFrame(updateDots);
                });

                window.addEventListener('resize', () => {
                    createDots();
                });

                setTimeout(createDots, 100);
            });
        });
    </script>
    <!--Mover suave-->
    <script>
        document.querySelectorAll(".btnCTA").forEach(button => {
            button.addEventListener("click", function () {
                document.getElementById("formularioGeneral").scrollIntoView({ behavior: 'smooth' });
            });
        });
    </script>
    <!--popup-->
    <script>
        let pop = document.getElementById('pop');
        let popup = document.getElementById('popup');
        pop.addEventListener("click", () => {
            popup.style.display = "flex";
        })
        let cerrarPopup = document.getElementById('cerrarPop');
        cerrarPopup.addEventListener("click", () => {
            popup.style.display = "none ";
        })
    </script>
    <script src="https://www.google.com/recaptcha/api.js" async="" defer=""></script>